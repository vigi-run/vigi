---
import BaseHead from "../components/BaseHead.astro";
import BaseBody from "../components/BaseBody.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import { SITE_DESCRIPTION, SITE_TITLE } from "../consts";
import Testimonials from "../components/Testimonials.astro";
import FAQ from "../components/FAQ.astro";
import Monitors from "../components/Monitors.astro";
import TechStack from "../components/TechStack.astro";
import Alerts from "../components/Alerts.astro";
import faqItems from "../data/faq";
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    <script
      type="application/ld+json"
      set:html={JSON.stringify({
        "@context": "https://schema.org",
        "@type": "FAQPage",
        mainEntity: faqItems.map((item) => ({
          "@type": "Question",
          name: item.question,
          acceptedAnswer: {
            "@type": "Answer",
            text: item.answer,
          },
        })),
      })}
    />
  </head>

  <body>
    <BaseBody />

    <Header />
    <main class="">
      <section
        class="relative px-4 sm:px-8 pt-16 sm:pt-24 lg:pt-28 m-4 sm:m-8 rounded-3xl"
      >
        <div
          class="absolute top-0 left-0 bg-gradient w-full h-[600px] md:h-[700px] rounded-3xl -z-10"
        >
        </div>
        <h1
          class="text-3xl sm:text-5xl font-bold text-center max-w-[1100px] mx-auto leading-[122%] text-zinc-950 px-2"
        >
          <span class="text-gradient">C√≥digo Aberto</span> & <span class="text-gradient">Auto-Hospedado</span> monitoramento de tempo de atividade para <span class="text-gradient">pequenas equipes</span> para detectar interrup√ß√µes antes que os usu√°rios o fa√ßam
        </h1>

        <p
          class="text-lg sm:text-xl text-center text-zinc-950 max-w-[678px] mx-auto my-6 px-3"
        >
          Monitoramento de tempo de atividade de n√≠vel de engenharia que voc√™ possui e controla. Sem depend√™ncias de nuvem, sem aprisionamento de fornecedor.
        </p>

        <!-- Open Source & Self-Hosted labels -->
        <div class="flex flex-wrap items-center justify-center gap-2 mb-6 text-md text-zinc-800">
          <span>üîì 100% C√≥digo Aberto</span>
          <span class="opacity-50">‚Ä¢</span>
          <span>üè† Somente Auto-Hospedado (por enquanto)</span>
        </div>

        <div
          class="flex flex-col sm:flex-row items-stretch sm:items-center justify-center gap-3 sm:gap-4 mt-2"
        >
          <a
            href="https://demo.vigi.run"
            class="bg-white text-[#353535] px-4 py-2 rounded-full hover:bg-white/80 font-semibold w-full sm:w-auto text-center"
            target="_blank"
          >
            Experimente a Demo
          </a>
          <a
            href="https://github.com/vigi-run/vigi?tab=readme-ov-file#quick-start-docker--sqlite"
            class="bg-black text-white px-4 py-2 rounded-full hover:bg-gray-800 font-semibold w-full sm:w-auto text-center"
            target="_blank"
          >
            In√≠cio R√°pido
          </a>
          <a
            href="https://github.com/vigi-run/vigi"
            class="bg-white text-[#353535] px-4 py-2 rounded-full hover:bg-white/80 font-semibold w-full sm:w-auto text-center"
            target="_blank"
            rel="noopener noreferrer"
          >
            <span>‚≠ê</span>
            <span>Marcar com Estrela no GitHub</span>
            <span id="github-stars" class="opacity-70 ml-1 text-gradient"
            ></span>
          </a>
        </div>

        <!-- Mobile image -->
        <div class="mt-8 md:hidden">
          <img
            src="/demo.webp"
            alt="Vigi"
            class="w-full max-w-[800px] mx-auto rounded-xl"
          />
        </div>

        <!-- Desktop image with mascot -->
        <div class="hidden md:flex justify-center">
          <div class="relative">
            <img
              src="/demo.webp"
              alt="Vigi"
              class="w-full max-w-[1056px] mx-auto"
            />
            <img
              src="/meerkat.webp"
              alt="Meerkat mascot"
              class="absolute -bottom-[100px] -right-[180px] w-[280px] lg:w-[400px] z-10"
            />
          </div>
        </div>
      </section>

      <Monitors />
      <Alerts />
      <TechStack />
      <Testimonials />
      <FAQ />

      <!-- SEO Content Section -->
      <section class="max-w-screen-lg mx-auto px-4 sm:px-8 py-4">
        <div class="flex justify-center mb-4">
          <button
            id="seo-toggle"
            class="text-zinc-600 hover:text-zinc-900 font-semibold px-4 py-2 rounded-full border border-zinc-300 hover:border-zinc-400 transition-colors"
            aria-expanded="false"
            aria-controls="seo-content"
          >
            <span id="seo-toggle-text">Mostrar Mais</span>
            <span id="seo-toggle-icon" class="ml-2 inline-block">‚ñº</span>
          </button>
        </div>
        <div
          id="seo-content"
          class="seo-content-hidden prose prose-zinc max-w-none text-zinc-600 text-sm sm:text-base leading-relaxed"
        >
          <h2 class="text-2xl font-bold text-zinc-900 mb-4">Monitor de tempo de atividade auto-hospedado para controle de disponibilidade de servi√ßo</h2>

          <p class="mb-4">
            Um monitor de tempo de atividade auto-hospedado √© a base de uma infraestrutura est√°vel e previs√≠vel. Quando sites, APIs ou servi√ßos internos ficam indispon√≠veis, √© importante saber disso imediatamente, n√£o pelos usu√°rios. Nosso servi√ßo permite que voc√™ acompanhe a disponibilidade e a operacionalidade da infraestrutura em tempo real, totalmente dentro do seu ambiente e sob seu controle.
          </p>

          <p class="mb-4">
            A plataforma √© implantada em seu servidor ou em sua nuvem e n√£o depende de servi√ßos externos. Todos os dados de monitoramento s√£o armazenados com voc√™, sem serem transferidos para terceiros. Essa abordagem √© especialmente importante para projetos com requisitos aumentados de seguran√ßa, privacidade e gerenciamento de infraestrutura.
          </p>

          <p class="mb-4">
            Nosso monitor de tempo de atividade auto-hospedado √© adequado tanto para pequenas equipes quanto para projetos em crescimento com arquitetura distribu√≠da. O sistema escala facilmente, n√£o o vincula a provedores de terceiros e fornece uma compreens√£o transparente do estado dos servi√ßos a qualquer momento.
          </p>



          <h3 class="text-xl font-semibold text-zinc-900 mt-6 mb-3">Capacidades do monitor de tempo de atividade auto-hospedado</h3>
          <p class="mb-4">
            A plataforma suporta uma ampla gama de verifica√ß√µes necess√°rias para o monitoramento de disponibilidade moderno. Voc√™ pode rastrear sites HTTP e HTTPS, endpoints de API, portas TCP, ping ICMP, consultas DNS, verifica√ß√µes de Webhook no modo push, bancos de dados e corretores de mensagens. O monitoramento de cont√™ineres Docker, servi√ßos gRPC e servi√ßos SNMP tamb√©m √© suportado, o que permite controlar tanto o per√≠metro externo quanto os componentes internos da infraestrutura.
          </p>
          <p class="mb-4">
            Quando ocorrem problemas, o servi√ßo envia instantaneamente notifica√ß√µes atrav√©s de canais convenientes: Telegram, Slack, Email, WhatsApp, Discord, Webhook e outros. As notifica√ß√µes podem ser configuradas de forma flex√≠vel, separadas por n√≠veis de gravidade e adaptadas aos processos da equipe para que as respostas sejam r√°pidas e sem ru√≠do desnecess√°rio.

          </p>
          <p class="mb-4">
            Para transpar√™ncia de disponibilidade, s√£o fornecidas p√°ginas de status. Elas podem ser p√∫blicas para clientes ou privadas para uso interno e exibir o estado atual dos servi√ßos em um formato claro e visual. Isso ajuda a reduzir o n√∫mero de solicita√ß√µes de suporte e aumentar a confian√ßa no servi√ßo.
          </p>

          <p class="mb-4">
            A plataforma √© totalmente auto-hospedada: voc√™ escolhe o banco de dados ‚Äî SQLite para um in√≠cio f√°cil ou PostgreSQL e MongoDB para cargas de trabalho de produ√ß√£o. Voc√™ controla o armazenamento, o acesso e a seguran√ßa dos dados. Autentica√ß√£o de dois fatores, prote√ß√£o contra ataques de for√ßa bruta e monitoramento das datas de expira√ß√£o do certificado SSL s√£o suportados.
          </p>

          <p class="mb-4">
            Nosso servi√ßo √© focado em equipes que precisam de um monitor de tempo de atividade auto-hospedado confi√°vel sem aprisionamento de fornecedor, com configura√ß√£o flex√≠vel, uma interface moderna e a capacidade de controlar totalmente a infraestrutura. Ajuda a detectar falhas em tempo h√°bil, manter a estabilidade do servi√ßo e garantir a transpar√™ncia de sua opera√ß√£o.
          </p>
        </div>
      </section>
    </main>
    <Footer />
    <script>
      (async () => {
        const el = document.getElementById("github-stars");
        if (!el) return;
        try {
          const res = await fetch(
            "https://green-night-b63d.yojji.workers.dev/?owner=0xfurai&repo=vigi",
            {
              headers: { accept: "application/json" },
              cache: "no-store",
            }
          );
          if (!res.ok) return;
          const data = await res.json();

          const formatted = new Intl.NumberFormat("en", {
            notation: "compact",
            compactDisplay: "short",
            maximumFractionDigits: 1,
          }).format(data?.stars);
          el.textContent = formatted;
        } catch (err) {
          console.log(err);
        }
      })();

      // SEO content toggle functionality
      (() => {
        const toggleButton = document.getElementById("seo-toggle");
        const seoContent = document.getElementById("seo-content");
        const toggleText = document.getElementById("seo-toggle-text");
        const toggleIcon = document.getElementById("seo-toggle-icon");

        if (!toggleButton || !seoContent) return;

        toggleButton.addEventListener("click", () => {
          const isExpanded = seoContent.classList.contains("seo-content-visible");

          if (isExpanded) {
            seoContent.classList.remove("seo-content-visible");
            seoContent.classList.add("seo-content-hidden");
            toggleText.textContent = "Mostrar Mais";
            toggleIcon.textContent = "‚ñº";
            toggleButton.setAttribute("aria-expanded", "false");
          } else {
            seoContent.classList.remove("seo-content-hidden");
            seoContent.classList.add("seo-content-visible");
            toggleText.textContent = "Mostrar Menos";
            toggleIcon.textContent = "‚ñ≤";
            toggleButton.setAttribute("aria-expanded", "true");
          }
        });
      })();
    </script>
  </body>
</html>

<style>
  /* SEO content visibility - hidden by default but always in DOM for SEO */
  .seo-content-hidden {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
  }

  .seo-content-visible {
    max-height: 5000px;
    overflow: visible;
    transition: max-height 0.5s ease-in;
  }

  /* Ensure content is readable by search engines even when hidden */
  .seo-content-hidden * {
    position: relative;
    visibility: visible;
  }
</style>

<svg
  xmlns="http://www.w3.org/2000/svg"
  width="0"
  height="0"
  style="position:absolute; overflow:hidden"
>
  <defs>
    <filter id="glass-distortion" x="0%" y="0%" width="100%" height="100%">
      <feTurbulence
        type="fractalNoise"
        baseFrequency="0.008 0.008"
        numOctaves="2"
        seed="92"
        result="noise"></feTurbulence>
      <feGaussianBlur in="noise" stdDeviation="2" result="blurred"
      ></feGaussianBlur>
      <feDisplacementMap
        in="SourceGraphic"
        in2="blurred"
        scale="12"
        xChannelSelector="R"
        yChannelSelector="G"></feDisplacementMap>
    </filter>
  </defs>
</svg>
